(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{143:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return u})),n.d(t,"default",(function(){return d}));var r=n(1),a=n(9),o=(n(0),n(166)),l={id:"dns-cloudflare",title:"Cloudflare DNS"},i={id:"dns-cloudflare",title:"Cloudflare DNS",description:"## Setup your DNS API credentials",source:"@site/docs/dns-cloudflare.md",permalink:"/docs/dns-cloudflare",editUrl:"https://github.com/webprofusion/certify-docs/edit/master/docs/dns-cloudflare.md"},u=[{value:"Setup your DNS API credentials",id:"setup-your-dns-api-credentials",children:[{value:"Setup using an API Token",id:"setup-using-an-api-token",children:[]},{value:"Setup using a Global Auth Key",id:"setup-using-a-global-auth-key",children:[]}]},{value:"Add New Stored Credential",id:"add-new-stored-credential",children:[]}],c={rightToc:u};function d(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},c,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"setup-your-dns-api-credentials"},"Setup your DNS API credentials"),Object(o.b)("p",null,"To use the Cloudflare DNS API, you need to either setup your API Token or use a Global Auth Key: "),Object(o.b)("h3",{id:"setup-using-an-api-token"},"Setup using an API Token"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Sign in to: ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://dash.cloudflare.com/profile/api-tokens"}),"https://dash.cloudflare.com/profile/api-tokens")),Object(o.b)("li",{parentName:"ul"},"Click on ",Object(o.b)("inlineCode",{parentName:"li"},"Create Token")," and enter a friendly name for this token such as ",Object(o.b)("inlineCode",{parentName:"li"},"Certify API access")),Object(o.b)("li",{parentName:"ul"},"Add permissions required to access and update your DNS zones:",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Add ",Object(o.b)("inlineCode",{parentName:"li"},"Zone > Zone > Read")," "),Object(o.b)("li",{parentName:"ul"},"Add ",Object(o.b)("inlineCode",{parentName:"li"},"Zone > DNS > Edit")))),Object(o.b)("li",{parentName:"ul"},"Under Zone Resources, select:",Object(o.b)("ul",{parentName:"li"},Object(o.b)("li",{parentName:"ul"},"Include > All zones"))),Object(o.b)("li",{parentName:"ul"},"Update key and copy/store the API Token locally.")),Object(o.b)("h3",{id:"setup-using-a-global-auth-key"},"Setup using a Global Auth Key"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Sign in to: ",Object(o.b)("a",Object(r.a)({parentName:"li"},{href:"https://www.cloudflare.com/dns/"}),"https://www.cloudflare.com/dns/")),Object(o.b)("li",{parentName:"ul"},"Under your Domain Summary, copy down your Zone Id, you will need this later."),Object(o.b)("li",{parentName:"ul"},"Select Get your API Key, which will take your to 'My Profile'"),Object(o.b)("li",{parentName:"ul"},"Under API Keys, select Global API Key"),Object(o.b)("li",{parentName:"ul"},"Copy down the API Key.")),Object(o.b)("h2",{id:"add-new-stored-credential"},"Add New Stored Credential"),Object(o.b)("p",null,"Now add a new Stored Credential under Settings in Certify, choosing Cloudflare DNS as the provider type, enter:"),Object(o.b)("p",null,"Either:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Your Cloudflare API Token\n")),Object(o.b)("p",null,"or:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Account Email Address"),Object(o.b)("li",{parentName:"ul"},"Your Auth Key")),Object(o.b)("p",null,"Then select Save. You can then Test your credentials. If you get a message saying ",Object(o.b)("inlineCode",{parentName:"p"},"No Zones returned")," your API Token does not have the required permissions and you need to update it."),Object(o.b)("p",null,"When using the credential as part of DNS validation in the app you will also be prompted to select the Zone Id, to ensure updates apply to the correct domain."))}d.isMDXComponent=!0},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(0),a=n.n(r);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=a.a.createContext({}),d=function(e){var t=a.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i({},t,{},e)),n},p=function(e){var t=d(e.components);return a.a.createElement(c.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=Object(r.forwardRef)((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),p=d(n),b=r,f=p["".concat(l,".").concat(b)]||p[b]||s[b]||o;return n?a.a.createElement(f,i({ref:t},c,{components:n})):a.a.createElement(f,i({ref:t},c))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=b;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var c=2;c<o;c++)l[c]=n[c];return a.a.createElement.apply(null,l)}return a.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);